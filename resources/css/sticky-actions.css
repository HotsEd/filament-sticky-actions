/**
 * Filament Sticky Actions
 * Makes the actions column sticky when scrolling horizontally
 *
 * Only applies when [data-sticky-actions] attribute is present on the table
 * Uses Filament's native CSS variables (--gray-*) for theme compatibility
 */

/* Header cell for actions column */
.fi-ta[data-sticky-actions] .fi-ta-actions-header-cell {
    position: sticky;
    right: 0;
    z-index: 11;
    background-color: oklch(1 0 0); /* white */
}

.dark .fi-ta[data-sticky-actions] .fi-ta-actions-header-cell {
    background-color: var(--gray-900);
}

/* Actions cell in table rows */
.fi-ta[data-sticky-actions] .fi-ta-row > td:has(.fi-ta-actions):last-child {
    position: sticky;
    right: 0;
    z-index: 10;
    background-color: oklch(1 0 0); /* white */
}

.dark .fi-ta[data-sticky-actions] .fi-ta-row > td:has(.fi-ta-actions):last-child {
    background-color: var(--gray-900);
}

/* Striped rows */
.fi-ta[data-sticky-actions] .fi-ta-row.fi-striped > td:has(.fi-ta-actions):last-child {
    background-color: var(--gray-50);
}

.dark .fi-ta[data-sticky-actions] .fi-ta-row.fi-striped > td:has(.fi-ta-actions):last-child {
    background-color: color-mix(in oklab, oklch(1 0 0) 5%, transparent);
}

/* Selected rows */
.fi-ta[data-sticky-actions] .fi-ta-row.fi-selected > td:has(.fi-ta-actions):last-child {
    background-color: var(--gray-50);
}

.dark .fi-ta[data-sticky-actions] .fi-ta-row.fi-selected > td:has(.fi-ta-actions):last-child {
    background-color: color-mix(in oklab, oklch(1 0 0) 5%, transparent);
}

/* Hover state for clickable rows */
.fi-ta[data-sticky-actions] .fi-ta-row.fi-clickable:hover > td:has(.fi-ta-actions):last-child {
    background-color: var(--gray-50);
}

.dark .fi-ta[data-sticky-actions] .fi-ta-row.fi-clickable:hover > td:has(.fi-ta-actions):last-child {
    background-color: color-mix(in oklab, oklch(1 0 0) 5%, transparent);
}

/* Shadow indicator for sticky column */
.fi-ta[data-sticky-actions] .fi-ta-row > td:has(.fi-ta-actions):last-child::before,
.fi-ta[data-sticky-actions] .fi-ta-actions-header-cell::before {
    content: '';
    position: absolute;
    left: -8px;
    top: 0;
    bottom: 0;
    width: 8px;
    background: linear-gradient(to right, transparent, rgba(0, 0, 0, 0.05));
    pointer-events: none;
}

.dark .fi-ta[data-sticky-actions] .fi-ta-row > td:has(.fi-ta-actions):last-child::before,
.dark .fi-ta[data-sticky-actions] .fi-ta-actions-header-cell::before {
    background: linear-gradient(to right, transparent, rgba(0, 0, 0, 0.15));
}