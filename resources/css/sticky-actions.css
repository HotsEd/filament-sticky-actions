/**
 * Filament Sticky Actions
 * Makes the actions column sticky when scrolling horizontally
 *
 * Uses CSS custom properties that can be overridden by themes.
 * Override these in your theme CSS if needed:
 * --sticky-actions-bg
 * --sticky-actions-bg-striped
 */

/* Default values - can be overridden by themes */
.fi-ta[data-sticky-actions] {
    --sticky-actions-bg: var(--fi-body-bg, white);
    --sticky-actions-bg-striped: var(--gray-50, rgb(249 250 251));
}

.dark .fi-ta[data-sticky-actions] {
    --sticky-actions-bg: var(--gray-900);
    --sticky-actions-bg-striped: color-mix(in oklab,var(--color-white)5%,transparent);
}

/* Header cell for actions column */
.fi-ta[data-sticky-actions] .fi-ta-actions-header-cell {
    position: sticky;
    right: 0;
    z-index: 11;
    background-color: var(--sticky-actions-bg-striped);
}

/* Actions cell in table rows - base (non-striped rows) */
.fi-ta[data-sticky-actions] .fi-ta-row:not(.fi-striped) > td:has(.fi-ta-actions):last-child {
    position: sticky;
    right: 0;
    z-index: 10;
    background-color: var(--sticky-actions-bg);
}

/* Striped rows */
.fi-ta[data-sticky-actions] .fi-ta-row.fi-striped > td:has(.fi-ta-actions):last-child {
    position: sticky;
    right: 0;
    z-index: 10;
    background-color: var(--sticky-actions-bg-striped);
}

/* Selected rows override */
.fi-ta[data-sticky-actions] .fi-ta-row.fi-selected > td:has(.fi-ta-actions):last-child {
    background-color: var(--sticky-actions-bg-striped);
}

/* Hover state for clickable rows */
.fi-ta[data-sticky-actions] .fi-ta-row.fi-clickable:hover > td:has(.fi-ta-actions):last-child {
    background-color: var(--sticky-actions-bg-striped);
}

/* Shadow indicator - only shows when there's content to scroll */
.fi-ta[data-sticky-actions][data-sticky-shadow] .fi-ta-row > td:has(.fi-ta-actions):last-child::before,
.fi-ta[data-sticky-actions][data-sticky-shadow] .fi-ta-actions-header-cell::before {
    content: '';
    position: absolute;
    left: -8px;
    top: 0;
    bottom: 0;
    width: 8px;
    background: linear-gradient(to right, transparent, rgba(0, 0, 0, 0.05));
    pointer-events: none;
    transition: opacity 0.15s ease;
}

.dark .fi-ta[data-sticky-actions][data-sticky-shadow] .fi-ta-row > td:has(.fi-ta-actions):last-child::before,
.dark .fi-ta[data-sticky-actions][data-sticky-shadow] .fi-ta-actions-header-cell::before {
    background: linear-gradient(to right, transparent, rgba(0, 0, 0, 0.15));
}
